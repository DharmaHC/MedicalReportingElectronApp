<Window x:Class="MedReportEditor.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        Title="MedReport Editor"
        Left="-10000" Top="-10000"
        Height="1" Width="1"
        WindowStyle="None"
        AllowsTransparency="False"
        ShowInTaskbar="False"
        ShowActivated="False"
        Loaded="Window_Loaded"
        Closing="Window_Closing">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Toolbar di editing -->
        <ToolBarTray Grid.Row="0" Background="#F0F0F0">
            <ToolBar Band="0" BandIndex="0" Height="32">
                <!-- Font Family -->
                <ComboBox x:Name="cmbFontFamily" Width="130" Height="24" IsEditable="True"
                          ToolTip="Tipo di carattere"
                          SelectionChanged="CmbFontFamily_SelectionChanged"/>
                <!-- Font Size -->
                <ComboBox x:Name="cmbFontSize" Width="50" Height="24" IsEditable="True"
                          ToolTip="Dimensione carattere"
                          SelectionChanged="CmbFontSize_SelectionChanged" KeyDown="CmbFontSize_KeyDown"/>
                <Separator/>
                <!-- Formatting -->
                <Button x:Name="btnBold" Content="G" FontWeight="Bold" Width="28" Height="26"
                        ToolTip="Grassetto (Ctrl+B)" Click="BtnBold_Click"/>
                <Button x:Name="btnItalic" Content="C" FontStyle="Italic" Width="28" Height="26"
                        ToolTip="Corsivo (Ctrl+I)" Click="BtnItalic_Click"/>
                <Button x:Name="btnUnderline" Width="28" Height="26"
                        ToolTip="Sottolineato (Ctrl+U)" Click="BtnUnderline_Click">
                    <TextBlock Text="S" TextDecorations="Underline"/>
                </Button>
                <Button x:Name="btnStrikethrough" Width="28" Height="26"
                        ToolTip="Barrato" Click="BtnStrikethrough_Click">
                    <TextBlock Text="ab" TextDecorations="Strikethrough" FontSize="11"/>
                </Button>
                <Separator/>
                <!-- Alignment -->
                <Button x:Name="btnAlignLeft" Width="28" Height="26"
                        ToolTip="Allinea a sinistra" Click="BtnAlignLeft_Click">
                    <Canvas Width="16" Height="14">
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Top="0"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Top="4"/>
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Top="8"/>
                        <Rectangle Width="8" Height="2" Fill="#333" Canvas.Top="12"/>
                    </Canvas>
                </Button>
                <Button x:Name="btnAlignCenter" Width="28" Height="26"
                        ToolTip="Centra" Click="BtnAlignCenter_Click">
                    <Canvas Width="16" Height="14">
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="1" Canvas.Top="0"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="3" Canvas.Top="4"/>
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="1" Canvas.Top="8"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="3" Canvas.Top="12"/>
                    </Canvas>
                </Button>
                <Button x:Name="btnAlignRight" Width="28" Height="26"
                        ToolTip="Allinea a destra" Click="BtnAlignRight_Click">
                    <Canvas Width="16" Height="14">
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="2" Canvas.Top="0"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="6" Canvas.Top="4"/>
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="2" Canvas.Top="8"/>
                        <Rectangle Width="8" Height="2" Fill="#333" Canvas.Left="8" Canvas.Top="12"/>
                    </Canvas>
                </Button>
                <Button x:Name="btnAlignJustify" Width="28" Height="26"
                        ToolTip="Giustifica" Click="BtnAlignJustify_Click">
                    <Canvas Width="16" Height="14">
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="1" Canvas.Top="0"/>
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="1" Canvas.Top="4"/>
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="1" Canvas.Top="8"/>
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Left="1" Canvas.Top="12"/>
                    </Canvas>
                </Button>
                <Separator/>
                <!-- Lists -->
                <Button x:Name="btnBullets" Width="28" Height="26"
                        ToolTip="Elenco puntato" Click="BtnBullets_Click">
                    <Canvas Width="16" Height="14">
                        <Ellipse Width="3" Height="3" Fill="#333" Canvas.Left="0" Canvas.Top="0.5"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="5" Canvas.Top="1"/>
                        <Ellipse Width="3" Height="3" Fill="#333" Canvas.Left="0" Canvas.Top="5.5"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="5" Canvas.Top="6"/>
                        <Ellipse Width="3" Height="3" Fill="#333" Canvas.Left="0" Canvas.Top="10.5"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="5" Canvas.Top="11"/>
                    </Canvas>
                </Button>
                <Button x:Name="btnNumbering" Width="28" Height="26"
                        ToolTip="Elenco numerato" Click="BtnNumbering_Click">
                    <Canvas Width="16" Height="14">
                        <TextBlock Text="1" FontSize="7" Canvas.Left="0" Canvas.Top="-1.5" Foreground="#333"/>
                        <Rectangle Width="9" Height="2" Fill="#333" Canvas.Left="7" Canvas.Top="1"/>
                        <TextBlock Text="2" FontSize="7" Canvas.Left="0" Canvas.Top="3.5" Foreground="#333"/>
                        <Rectangle Width="9" Height="2" Fill="#333" Canvas.Left="7" Canvas.Top="6"/>
                        <TextBlock Text="3" FontSize="7" Canvas.Left="0" Canvas.Top="8.5" Foreground="#333"/>
                        <Rectangle Width="9" Height="2" Fill="#333" Canvas.Left="7" Canvas.Top="11"/>
                    </Canvas>
                </Button>
                <Separator/>
                <!-- Indent -->
                <Button x:Name="btnDecreaseIndent" Width="28" Height="26"
                        ToolTip="Riduci rientro" Click="BtnDecreaseIndent_Click">
                    <Canvas Width="16" Height="14">
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Top="0"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="4" Canvas.Top="4"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="4" Canvas.Top="8"/>
                        <Polygon Points="5,6 0,3 0,9" Fill="#333" Canvas.Left="0" Canvas.Top="2"/>
                    </Canvas>
                </Button>
                <Button x:Name="btnIncreaseIndent" Width="28" Height="26"
                        ToolTip="Aumenta rientro" Click="BtnIncreaseIndent_Click">
                    <Canvas Width="16" Height="14">
                        <Rectangle Width="14" Height="2" Fill="#333" Canvas.Top="0"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="4" Canvas.Top="4"/>
                        <Rectangle Width="10" Height="2" Fill="#333" Canvas.Left="4" Canvas.Top="8"/>
                        <Polygon Points="0,6 5,3 5,9" Fill="#333" Canvas.Left="0" Canvas.Top="2"/>
                    </Canvas>
                </Button>
                <Separator/>
                <!-- Undo / Redo -->
                <Button x:Name="btnUndo" Width="28" Height="26"
                        ToolTip="Annulla (Ctrl+Z)" Click="BtnUndo_Click"
                        Content="&#xE7A7;" FontFamily="Segoe MDL2 Assets" FontSize="14"/>
                <Button x:Name="btnRedo" Width="28" Height="26"
                        ToolTip="Ripristina (Ctrl+Y)" Click="BtnRedo_Click"
                        Content="&#xE7A6;" FontFamily="Segoe MDL2 Assets" FontSize="14"/>
            </ToolBar>
        </ToolBarTray>

        <!-- Editor RTF nativo -->
        <telerik:RadRichTextBox x:Name="editor" Grid.Row="1"
                                 IsSpellCheckingEnabled="False"
                                 LayoutMode="Paged" />

        <!-- Status bar -->
        <StatusBar Grid.Row="2" Height="22">
            <StatusBarItem>
                <TextBlock x:Name="statusText" Text="Pronto" FontSize="11" />
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Button x:Name="btnZoomOut" Content="&#xE738;" FontFamily="Segoe MDL2 Assets" FontSize="12"
                            Width="22" Height="18" ToolTip="Riduci zoom" Click="BtnZoomOut_Click"
                            BorderThickness="0" Background="Transparent" Padding="0"/>
                    <Slider x:Name="sliderZoom" Width="100" Minimum="25" Maximum="400" Value="100"
                            VerticalAlignment="Center" ToolTip="Zoom"
                            ValueChanged="SliderZoom_ValueChanged"
                            SmallChange="10" LargeChange="25" IsSnapToTickEnabled="False"/>
                    <Button x:Name="btnZoomIn" Content="&#xE710;" FontFamily="Segoe MDL2 Assets" FontSize="12"
                            Width="22" Height="18" ToolTip="Aumenta zoom" Click="BtnZoomIn_Click"
                            BorderThickness="0" Background="Transparent" Padding="0"/>
                    <TextBlock x:Name="txtZoomLevel" Text="100%" FontSize="11" Width="38"
                               TextAlignment="Center" VerticalAlignment="Center" Margin="4,0,0,0"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
